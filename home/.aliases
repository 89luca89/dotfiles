gnome-background() {
	gsettings set org.gnome.desktop.background picture-uri none
	gsettings set org.gnome.desktop.background picture-uri-dark none
	gsettings set org.gnome.desktop.background color-shading-type 'solid'
	gsettings set org.gnome.desktop.background primary-color "$1"
}
update() {
	if command -v rpm-ostree; then
		rpm-ostree update
	elif [ -e /sbin/transactional-update ]; then
		sudo transactional-update -c -d -i dup
	fi
	if ! flatpak update --user; then
		flatpak repair --user
		flatpak update --user
	fi
	flatpak uninstall --user --unused
	distrobox upgrade --all
}
update-grub() {
	if command -v rpm-ostree; then
		update_cmd="rpm-ostree kargs"
		for i in $(grep GRUB_CMDLINE_LINUX /etc/default/grub | cut -d'=' -f2- | tr -d '"'); do
			update_cmd="$update_cmd --append-if-missing=$i"
		done
		eval $update_cmd
	elif command -v zypper; then
		sudo tukit --continue --discard execute \
			sh -c "grub2-mkconfig -o /boot/grub2/grub.cfg; \
			dracut --force --regenerate-all"
	else
		CONFS=$(sudo find /boot -name "grub.cfg")
		for conf in $CONFS; do
			echo "$conf"
			sudo grub2-mkconfig -o "$conf"
		done
		sudo dracut --force --regenerate-all
	fi
	sync
}
rclone_clear_mount() {
	mkdir -p "$2"
	rclone mount Local-Crypt:"$1" "$2"
}
# BASIC ALIASES
alias batinfo="grep --color . /sys/class/power_supply/BAT*/{capacity,energy_now,energy_full,energy_full_design,status,cycle_count,charge_start_threshold,charge_stop_threshold}"
alias batsave="echo 55 | sudo tee /sys/class/power_supply/BAT0/charge_start_threshold && echo 65 | sudo tee /sys/class/power_supply/BAT0/charge_stop_threshold"
alias batstretch="echo 0 | sudo tee /sys/class/power_supply/BAT0/charge_start_threshold && echo 100 | sudo tee /sys/class/power_supply/BAT0/charge_stop_threshold"
alias cp='cp --reflink=auto'
alias ll='ls -Ahl --group-directories-first --color'
alias open='xdg-open'
alias rsyncthingD='cd ~/Syncthing && find ~/Syncthing/ -iname "*.tmp" -o -iname "*conflict*" | xargs rm -f && rsync --usermap=$(id -ru):1000 --groupmap=$(id -rg):1000 --archive --verbose --inplace --no-compress --progress --partial --delete -e "ssh -J jump" --exclude={.stversions,*.tmp}  root@raspberrypi-1:/usr/local/mnt/Vault/Syncthing/ ~/Syncthing/ && cd -'
alias rsyncthingS='cd ~/Syncthing && find ~/Syncthing/ -iname "*.tmp" -o -iname "*conflict*" | xargs rm -f && rsync --usermap=$(id -ru):1000 --groupmap=$(id -rg):1000 --archive --verbose --inplace --no-compress --progress --partial --delete -e "ssh -J jump" --exclude={.stversions,*.tmp}  ~/Syncthing/ root@raspberrypi-1:/usr/local/mnt/Vault/Syncthing/ && rsync --usermap=$(id -ru):1000 --groupmap=$(id -rg):1000 --archive --verbose --inplace --no-compress --progress --partial --delete -e "ssh -J jump" --exclude={.stversions,*.tmp}  ~/Syncthing/ root@raspberrypi-2:/usr/local/mnt/Vault/Syncthing/ && cd -'
alias vi='/usr/bin/vim -u ~/.vimrc-minimal'
alias tree='tree -I ".git" -a'
if [ ! -e /run/.containerenv ]; then
	alias vim='/usr/bin/vim -u ~/.vimrc-minimal'
fi
export GOPATH=$HOME/.local/share/go
export CARGO_HOME=$HOME/.local/rust
export RUSTUP_HOME=$HOME/.local/rust
export RUST_SRC_PATH="$RUSTUP_HOME/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/src"
export PATH=$HOME/.local/bin/node_modules/.bin:$PATH
export PATH=$HOME/.local/bin:$PATH
export PATH=$HOME/.local/go/bin:$PATH
export PATH=$HOME/.local/share/flatpak/exports/bin:$PATH
export PATH=$HOME/bin:$PATH
export PATH=$PATH:$GOPATH/bin
export PATH=$PATH:$RUSTUP_HOME/toolchains/stable-x86_64-unknown-linux-gnu/bin
export PATH=$HOME/.local/distrobox-bin:$PATH
export PATH=/var/lib/flatpak/exports/bin:$PATH
export TMUX_TMPDIR=/tmp
export XDG_DESKTOP_DIR="$HOME/Desktop"
export XDG_DOCUMENTS_DIR="$HOME/Documents"
export XDG_DOWNLOAD_DIR="$HOME/Downloads"
export XDG_MUSIC_DIR="$HOME/Music"
export XDG_PICTURES_DIR="$HOME/Pictures"
export XDG_PUBLICSHARE_DIR="$HOME/Public"
export XDG_TEMPLATES_DIR="$HOME/Templates"
export XDG_VIDEOS_DIR="$HOME/Videos"
export _ANSIBLE_HOME_=$HOME/.cache
export LANG="en_US.UTF-8"
export LC_CTYPE="en_US.UTF-8"
export GPG_TTY=$(tty)
alias docker-distrobox="DBX_CONTAINER_MANAGER=docker distrobox"
