set nocompatible              " required
filetype off                  " required

call plug#begin('~/.vim/plugged')

" color schemes
Plug 'tomasiser/vim-code-dark'
Plug 'endel/vim-github-colorscheme'

call plug#end()               " required
filetype plugin indent on     " required

" Use Ripgrep = superfast
set grepprg=rg

map <silent> <C-E> :<C-u>call ToggleTheme()<CR>
function! ToggleTheme()
    if &background == 'light'
        set background=dark
        colorscheme codedark
        highlight ColorColumn ctermbg=235
    else
        set background=light
        colorscheme github
        highlight ColorColumn ctermbg=255
        highlight VertSplit ctermbg=255 ctermfg=255
        highlight LineNr ctermbg=white ctermfg=black
        highlight nonText ctermbg=white ctermfg=black
        highlight Normal ctermbg=white ctermfg=black
    endif
endfunction

autocmd VimResized * :wincmd =                          " Resize Split When the window is resized"

""" Tabs Navigation
" navigate tabs Tab (fw) S-Tab (prev)
map <Tab> :bn<CR>
map <S-Tab> :bp<CR>
""" Ctrl-C copy visual selection to clipboard
vnoremap <C-c> :'<,'>w !xclip -sel clip<CR><CR>
" Ctrl+C close buffer ( pipe commands to fix behaviour with splits and netrw/nerdtree)
nnoremap <C-c> :bp<bar>sp<bar>bn<bar>bd!<CR>

" " Resize split window horizontally and vertically
" Shortcuts to Shift-Alt-Arrows - Alt is mapped as M in vim
noremap <S-M-Up> :2winc+<cr>
noremap <S-M-Down> :2winc-<cr>
noremap <S-M-Left> :2winc><cr>
noremap <S-M-Right> :2winc<<cr>

" Remap Wq to wq to have less typo on exit
cmap Wq wq
set undofile                                            " Undo file and directory
set undolevels=1000
set undodir=$HOME/.vim/undo
set directory=$HOME/.vim/swap                          " Custom swapfile directory
set path+=**                                            " Recursive path Tab autocomplete
set wildmenu
set lazyredraw ttyfast ttimeoutlen=20                   " Faster redraw
set hidden                                              " change buffer without saving
set backspace=indent,eol,start                          " http://vi.stackexchange.com/a/2163
set splitright splitbelow                               " Open new splits to the right and bottom
set autoindent smartindent                              " always set autoindenting on
set expandtab shiftwidth=4 tabstop=4 softtabstop=4      " Four spaces for tabs everywhere
set hlsearch incsearch ignorecase smartcase             " Highlight search results, ignore case if search is all lowercase
set nowrap                                              " play nicely with long lines
set number                                              " Enable line numbers
set noshowcmd
set signcolumn=yes
let &colorcolumn=join(range(81,999),",")
syntax on

" play nicely with modern graphics
set encoding=utf8
set background=dark
colorscheme codedark
highlight ColorColumn ctermbg=235
